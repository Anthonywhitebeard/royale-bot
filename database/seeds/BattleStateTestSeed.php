<?php

use App\Models\EventCondition;
use App\Models\EventOperation;
use App\Models\EventTrait;
use App\Models\Trigger;
use Illuminate\Database\Seeder;

class BattleStateTestSeed extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run(): void
    {
        $chat = factory(\App\Models\Chat::class)->create();
        $defaultStateSeed = '{"chat":{"id":1,"tg_id":"73060171","name":"fantom79022","min_players":10,"allow_bots":1,"deviance":0,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:25.000000Z"},"battleId":1,"round":0,"turn":0,"players":[{"battlePlayer":{"id":1,"battle_id":1,"player_id":11,"tg_message_id":"9135","user_name":"\u0424\u0430\u043d\u0442\u043e\u043c","class_id":4,"start_mmr":1200,"start_rp":0,"start_skill":1000,"end_mmr":null,"end_rp":null,"end_skill":null,"place":null,"created_at":"2020-08-26T16:22:27.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","battle_class":{"id":4,"name":"\u041a\u043b\u0438\u0440\u0438\u043a","flag":"priest","deviance":0,"event_id":4,"active":1,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","abilities":[{"id":3,"name":"[\u041e\u0442\u0440\u0435\u0447\u0435\u043d\u0438\u0435]","slug":"abdication","activation_text":"%name% \u0437\u0430\u043a\u0430\u043f\u044b\u0432\u0430\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u0435\u0441\u0442\u043a\u0435","battle_class_id":4,"event_id":25,"charges":1,"turn_cd":0,"round_cd":1,"active":1,"created_at":"2020-08-21T11:14:26.000000Z","updated_at":"2020-08-21T11:14:26.000000Z"},{"id":4,"name":"[\u0420\u0430\u0441\u043a\u0430\u044f\u043d\u0438\u0435]","slug":"repentance","activation_text":"%name% \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0441\u0435\u0431\u044f: \"\u0410 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043b\u0438 \u044f \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u044e?\"","battle_class_id":4,"event_id":33,"charges":1,"turn_cd":0,"round_cd":1,"active":0,"created_at":"2020-08-21T11:14:26.000000Z","updated_at":"2020-08-21T11:14:26.000000Z"}],"event":{"id":4,"name":"\u041a\u043b\u0438\u0440\u0438\u043a class set","slug":null,"text":"\u041a\u043b\u0438\u0440\u0438\u043a class set","weight":0,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event_operations":[{"id":16,"event_id":4,"operation_id":2,"target":"0","params":"120","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":17,"event_id":4,"operation_id":4,"target":"0","params":"5","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":18,"event_id":4,"operation_id":21,"target":"0","params":"%turnAlivePlayers.0.name% \u0432\u0434\u0440\u0443\u0433 \u0432\u043e \u0447\u0442\u043e-\u0442\u043e \u0443\u0432\u0435\u0440\u043e\u0432\u0430\u043b \u0438 \u0440\u0435\u0448\u0438\u043b \u043f\u043e\u0441\u0432\u044f\u0442\u0438\u0442\u044c \u044d\u0442\u043e\u043c\u0443 \u0436\u0438\u0437\u043d\u044c. \u041e\u0442\u043d\u044b\u043d\u0435 %turnAlivePlayers.0.name% \u043a\u043b\u0438\u0440\u0438\u043a","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":21,"name":"ABILITIES_MESSAGE","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":19,"event_id":4,"operation_id":5,"target":"0","params":"preaching","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":20,"event_id":4,"operation_id":5,"target":"0","params":"default","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":21,"event_id":4,"operation_id":5,"target":"0","params":"priest_class","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}},"battle":{"id":1,"state":1,"chat_id":1,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","chat":{"id":1,"tg_id":"73060171","name":"fantom79022","min_players":10,"allow_bots":1,"deviance":0,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:25.000000Z"}},"battle_abilities":[{"id":1,"ability_id":3,"battle_id":1,"ability_name":"[\u041e\u0442\u0440\u0435\u0447\u0435\u043d\u0438\u0435]","slug":"abdication","activation_text":"%name% \u0437\u0430\u043a\u0430\u043f\u044b\u0432\u0430\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u0435\u0441\u0442\u043a\u0435","battle_player_id":1,"state":0,"charge_last":1,"last_use_round":null,"last_use_turn":null,"turn_cd":0,"round_cd":0,"active":1,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z"},{"id":2,"ability_id":4,"battle_id":1,"ability_name":"[\u0420\u0430\u0441\u043a\u0430\u044f\u043d\u0438\u0435]","slug":"repentance","activation_text":"%name% \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0441\u0435\u0431\u044f: \"\u0410 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043b\u0438 \u044f \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u044e?\"","battle_player_id":1,"state":0,"charge_last":1,"last_use_round":null,"last_use_turn":null,"turn_cd":0,"round_cd":0,"active":0,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z"}]},"hp":120,"name":"\u0424\u0430\u043d\u0442\u043e\u043c","dmg":5,"flags":{"player":true,"preaching":true,"default":true,"priest_class":true},"className":"\u041a\u043b\u0438\u0440\u0438\u043a"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"tempore","player_id":7,"player":{"id":7,"name":"tempore","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"tempore","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"dolorem","player_id":6,"player":{"id":6,"name":"dolorem","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"dolorem","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"id":2,"battle_id":1,"player_id":5,"tg_message_id":null,"user_name":"perspiciatis","class_id":3,"start_mmr":1200,"start_rp":0,"start_skill":1000,"end_mmr":null,"end_rp":null,"end_skill":null,"place":null,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","player":{"id":5,"name":"perspiciatis","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":3,"name":"\u041b\u0438\u0447","flag":"lich","deviance":0,"event_id":3,"active":1,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event":{"id":3,"name":"\u041b\u0438\u0447 class set","slug":null,"text":"\u041b\u0438\u0447 class set","weight":0,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event_operations":[{"id":11,"event_id":3,"operation_id":2,"target":"0","params":"120","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":12,"event_id":3,"operation_id":4,"target":"0","params":"70","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":13,"event_id":3,"operation_id":21,"target":"0","params":"%turnAlivePlayers.0.name% \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u0437\u0430 \u0440\u0430\u043c\u043a\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u0447\u043d\u043e\u0441\u0442\u0438, \u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0441\u044c \u043c\u043e\u0433\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u043d\u0435\u0436\u0438\u0442\u044c\u044e","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":21,"name":"ABILITIES_MESSAGE","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":14,"event_id":3,"operation_id":5,"target":"0","params":"default","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":15,"event_id":3,"operation_id":5,"target":"0","params":"lich_class","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}},"battle":{"id":1,"state":1,"chat_id":1,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","chat":{"id":1,"tg_id":"73060171","name":"fantom79022","min_players":10,"allow_bots":1,"deviance":0,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:25.000000Z"}}},"hp":120,"name":"perspiciatis","dmg":70,"flags":{"bot":true,"default":true,"lich_class":true},"className":"\u041b\u0438\u0447"},{"battlePlayer":{"id":3,"battle_id":1,"player_id":1,"tg_message_id":null,"user_name":"molestiae","class_id":1,"start_mmr":1200,"start_rp":0,"start_skill":1000,"end_mmr":null,"end_rp":null,"end_skill":null,"place":null,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","player":{"id":1,"name":"molestiae","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"molestiae","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"eos","player_id":2,"player":{"id":2,"name":"eos","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"eos","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"praesentium","player_id":9,"player":{"id":9,"name":"praesentium","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"praesentium","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"quia","player_id":3,"player":{"id":3,"name":"quia","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"quia","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"quidem","player_id":10,"player":{"id":10,"name":"quidem","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"quidem","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"id":4,"battle_id":1,"player_id":4,"tg_message_id":null,"user_name":"eum","class_id":2,"start_mmr":1200,"start_rp":0,"start_skill":1000,"end_mmr":null,"end_rp":null,"end_skill":null,"place":null,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","player":{"id":4,"name":"eum","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":2,"name":"\u0412\u043e\u0438\u043d","flag":"fighter","deviance":0,"event_id":2,"active":1,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event":{"id":2,"name":"\u0412\u043e\u0438\u043d class set","slug":null,"text":"\u0412\u043e\u0438\u043d class set","weight":0,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event_operations":[{"id":5,"event_id":2,"operation_id":2,"target":"0","params":"150","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":6,"event_id":2,"operation_id":4,"target":"0","params":"50","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":7,"event_id":2,"operation_id":21,"target":"0","params":"%turnAlivePlayers.0.name% \u043d\u0430\u0439\u0434\u044f \u043a\u0435\u043c-\u0442\u043e \u0431\u0440\u043e\u0448\u0435\u043d\u043d\u0443\u044e \u043c\u043e\u0442\u044b\u0433\u0443 \u0438 \u043a\u0443\u0441\u043e\u043a \u0434\u043e\u0441\u043a\u0438, \u0440\u0435\u0448\u0430\u0435\u0442 \u0441\u0442\u0430\u0442\u044c \u0412\u043e\u0438\u043d\u043e\u043c","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":21,"name":"ABILITIES_MESSAGE","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":8,"event_id":2,"operation_id":5,"target":"0","params":"first_wind","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":9,"event_id":2,"operation_id":5,"target":"0","params":"default","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":10,"event_id":2,"operation_id":5,"target":"0","params":"fighter_class","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}},"battle":{"id":1,"state":1,"chat_id":1,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","chat":{"id":1,"tg_id":"73060171","name":"fantom79022","min_players":10,"allow_bots":1,"deviance":0,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:25.000000Z"}}},"hp":150,"name":"eum","dmg":50,"flags":{"bot":true,"default":true,"first_wind":true,"fighter_class":true},"className":"\u0412\u043e\u0438\u043d"}],"turnAlivePlayers":[{"battlePlayer":{"id":4,"battle_id":1,"player_id":4,"tg_message_id":null,"user_name":"eum","class_id":2,"start_mmr":1200,"start_rp":0,"start_skill":1000,"end_mmr":null,"end_rp":null,"end_skill":null,"place":null,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","player":{"id":4,"name":"eum","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":2,"name":"\u0412\u043e\u0438\u043d","flag":"fighter","deviance":0,"event_id":2,"active":1,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event":{"id":2,"name":"\u0412\u043e\u0438\u043d class set","slug":null,"text":"\u0412\u043e\u0438\u043d class set","weight":0,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event_operations":[{"id":5,"event_id":2,"operation_id":2,"target":"0","params":"150","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":6,"event_id":2,"operation_id":4,"target":"0","params":"50","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":7,"event_id":2,"operation_id":21,"target":"0","params":"%turnAlivePlayers.0.name% \u043d\u0430\u0439\u0434\u044f \u043a\u0435\u043c-\u0442\u043e \u0431\u0440\u043e\u0448\u0435\u043d\u043d\u0443\u044e \u043c\u043e\u0442\u044b\u0433\u0443 \u0438 \u043a\u0443\u0441\u043e\u043a \u0434\u043e\u0441\u043a\u0438, \u0440\u0435\u0448\u0430\u0435\u0442 \u0441\u0442\u0430\u0442\u044c \u0412\u043e\u0438\u043d\u043e\u043c","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":21,"name":"ABILITIES_MESSAGE","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":8,"event_id":2,"operation_id":5,"target":"0","params":"first_wind","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":9,"event_id":2,"operation_id":5,"target":"0","params":"default","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":10,"event_id":2,"operation_id":5,"target":"0","params":"fighter_class","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}},"battle":{"id":1,"state":1,"chat_id":1,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","chat":{"id":1,"tg_id":"73060171","name":"fantom79022","min_players":10,"allow_bots":1,"deviance":0,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:25.000000Z"}}},"hp":150,"name":"eum","dmg":50,"flags":{"bot":true,"default":true,"first_wind":true,"fighter_class":true},"className":"\u0412\u043e\u0438\u043d"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"quidem","player_id":10,"player":{"id":10,"name":"quidem","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"quidem","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"id":3,"battle_id":1,"player_id":1,"tg_message_id":null,"user_name":"molestiae","class_id":1,"start_mmr":1200,"start_rp":0,"start_skill":1000,"end_mmr":null,"end_rp":null,"end_skill":null,"place":null,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","player":{"id":1,"name":"molestiae","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"molestiae","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"tempore","player_id":7,"player":{"id":7,"name":"tempore","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"tempore","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"praesentium","player_id":9,"player":{"id":9,"name":"praesentium","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"praesentium","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"eos","player_id":2,"player":{"id":2,"name":"eos","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"eos","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"id":2,"battle_id":1,"player_id":5,"tg_message_id":null,"user_name":"perspiciatis","class_id":3,"start_mmr":1200,"start_rp":0,"start_skill":1000,"end_mmr":null,"end_rp":null,"end_skill":null,"place":null,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","player":{"id":5,"name":"perspiciatis","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":3,"name":"\u041b\u0438\u0447","flag":"lich","deviance":0,"event_id":3,"active":1,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event":{"id":3,"name":"\u041b\u0438\u0447 class set","slug":null,"text":"\u041b\u0438\u0447 class set","weight":0,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event_operations":[{"id":11,"event_id":3,"operation_id":2,"target":"0","params":"120","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":12,"event_id":3,"operation_id":4,"target":"0","params":"70","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":13,"event_id":3,"operation_id":21,"target":"0","params":"%turnAlivePlayers.0.name% \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u0437\u0430 \u0440\u0430\u043c\u043a\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u0447\u043d\u043e\u0441\u0442\u0438, \u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0441\u044c \u043c\u043e\u0433\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0439 \u043d\u0435\u0436\u0438\u0442\u044c\u044e","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":21,"name":"ABILITIES_MESSAGE","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":14,"event_id":3,"operation_id":5,"target":"0","params":"default","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":15,"event_id":3,"operation_id":5,"target":"0","params":"lich_class","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}},"battle":{"id":1,"state":1,"chat_id":1,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","chat":{"id":1,"tg_id":"73060171","name":"fantom79022","min_players":10,"allow_bots":1,"deviance":0,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:25.000000Z"}}},"hp":120,"name":"perspiciatis","dmg":70,"flags":{"bot":true,"default":true,"lich_class":true},"className":"\u041b\u0438\u0447"},{"battlePlayer":{"id":1,"battle_id":1,"player_id":11,"tg_message_id":"9135","user_name":"\u0424\u0430\u043d\u0442\u043e\u043c","class_id":4,"start_mmr":1200,"start_rp":0,"start_skill":1000,"end_mmr":null,"end_rp":null,"end_skill":null,"place":null,"created_at":"2020-08-26T16:22:27.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","battle_class":{"id":4,"name":"\u041a\u043b\u0438\u0440\u0438\u043a","flag":"priest","deviance":0,"event_id":4,"active":1,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","abilities":[{"id":3,"name":"[\u041e\u0442\u0440\u0435\u0447\u0435\u043d\u0438\u0435]","slug":"abdication","activation_text":"%name% \u0437\u0430\u043a\u0430\u043f\u044b\u0432\u0430\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u0435\u0441\u0442\u043a\u0435","battle_class_id":4,"event_id":25,"charges":1,"turn_cd":0,"round_cd":1,"active":1,"created_at":"2020-08-21T11:14:26.000000Z","updated_at":"2020-08-21T11:14:26.000000Z"},{"id":4,"name":"[\u0420\u0430\u0441\u043a\u0430\u044f\u043d\u0438\u0435]","slug":"repentance","activation_text":"%name% \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0441\u0435\u0431\u044f: \"\u0410 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043b\u0438 \u044f \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u044e?\"","battle_class_id":4,"event_id":33,"charges":1,"turn_cd":0,"round_cd":1,"active":0,"created_at":"2020-08-21T11:14:26.000000Z","updated_at":"2020-08-21T11:14:26.000000Z"}],"event":{"id":4,"name":"\u041a\u043b\u0438\u0440\u0438\u043a class set","slug":null,"text":"\u041a\u043b\u0438\u0440\u0438\u043a class set","weight":0,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","event_operations":[{"id":16,"event_id":4,"operation_id":2,"target":"0","params":"120","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":17,"event_id":4,"operation_id":4,"target":"0","params":"5","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":18,"event_id":4,"operation_id":21,"target":"0","params":"%turnAlivePlayers.0.name% \u0432\u0434\u0440\u0443\u0433 \u0432\u043e \u0447\u0442\u043e-\u0442\u043e \u0443\u0432\u0435\u0440\u043e\u0432\u0430\u043b \u0438 \u0440\u0435\u0448\u0438\u043b \u043f\u043e\u0441\u0432\u044f\u0442\u0438\u0442\u044c \u044d\u0442\u043e\u043c\u0443 \u0436\u0438\u0437\u043d\u044c. \u041e\u0442\u043d\u044b\u043d\u0435 %turnAlivePlayers.0.name% \u043a\u043b\u0438\u0440\u0438\u043a","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":21,"name":"ABILITIES_MESSAGE","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":19,"event_id":4,"operation_id":5,"target":"0","params":"preaching","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":20,"event_id":4,"operation_id":5,"target":"0","params":"default","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":21,"event_id":4,"operation_id":5,"target":"0","params":"priest_class","created_at":"2020-08-21T11:14:24.000000Z","updated_at":"2020-08-21T11:14:24.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}},"battle":{"id":1,"state":1,"chat_id":1,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:39.000000Z","chat":{"id":1,"tg_id":"73060171","name":"fantom79022","min_players":10,"allow_bots":1,"deviance":0,"created_at":"2020-08-26T16:22:25.000000Z","updated_at":"2020-08-26T16:22:25.000000Z"}},"battle_abilities":[{"id":1,"ability_id":3,"battle_id":1,"ability_name":"[\u041e\u0442\u0440\u0435\u0447\u0435\u043d\u0438\u0435]","slug":"abdication","activation_text":"%name% \u0437\u0430\u043a\u0430\u043f\u044b\u0432\u0430\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u043d\u0430 \u043f\u0435\u0440\u0435\u043a\u0440\u0435\u0441\u0442\u043a\u0435","battle_player_id":1,"state":0,"charge_last":1,"last_use_round":null,"last_use_turn":null,"turn_cd":0,"round_cd":0,"active":1,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z"},{"id":2,"ability_id":4,"battle_id":1,"ability_name":"[\u0420\u0430\u0441\u043a\u0430\u044f\u043d\u0438\u0435]","slug":"repentance","activation_text":"%name% \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442 \u0441\u0435\u0431\u044f: \"\u0410 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043b\u0438 \u044f \u043f\u043e\u0441\u0442\u0443\u043f\u0430\u044e?\"","battle_player_id":1,"state":0,"charge_last":1,"last_use_round":null,"last_use_turn":null,"turn_cd":0,"round_cd":0,"active":0,"created_at":"2020-08-26T16:22:39.000000Z","updated_at":"2020-08-26T16:22:39.000000Z"}]},"hp":120,"name":"\u0424\u0430\u043d\u0442\u043e\u043c","dmg":5,"flags":{"player":true,"preaching":true,"default":true,"priest_class":true},"className":"\u041a\u043b\u0438\u0440\u0438\u043a"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"dolorem","player_id":6,"player":{"id":6,"name":"dolorem","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"dolorem","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"},{"battlePlayer":{"class_id":1,"battle_id":1,"user_name":"quia","player_id":3,"player":{"id":3,"name":"quia","tg_id":null,"mmr":1200,"rp":0,"skill":1000,"promo_lost":false,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"},"battle_class":{"id":1,"name":"default","flag":"default","deviance":0,"event_id":1,"active":1,"created_at":null,"updated_at":null,"event":{"id":1,"name":"default","slug":null,"text":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","weight":100,"deviance":0,"active":true,"created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","event_operations":[{"id":1,"event_id":1,"operation_id":5,"target":"0","params":"class_default","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":5,"name":"ADD_FLAG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":2,"event_id":1,"operation_id":2,"target":"0","params":"100","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":2,"name":"SET_HP","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":3,"event_id":1,"operation_id":4,"target":"0","params":"20","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":4,"name":"SET_DMG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}},{"id":4,"event_id":1,"operation_id":13,"target":"0","params":"\u0412\u044b\u0431\u0440\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z","operation":{"id":13,"name":"SEND_MSG","created_at":"2020-08-21T11:14:23.000000Z","updated_at":"2020-08-21T11:14:23.000000Z"}}]}}},"hp":100,"name":"quia","dmg":20,"flags":{"bot":true,"default":true,"class_default":true},"className":"default"}],"turnDeadPlayers":[],"deviance":0,"pendingPlayers":[],"turnConditions":[]}';
        /** @var \App\Models\Battle $battle */
        $battle = factory(\App\Models\Battle::class)->create([
            'chat_id' => $chat->id
        ]);
        $battle->battleState()->create([
           'state' => $defaultStateSeed
        ]);
    }
}
